<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // eval() 可以将字符串转换为js代码并且运行
    var str = "console.log('你好世界！');";
    eval(str);
    // window.eval(str); // eval()可以直接调用，说明属于window对象

    // JSON格式的字符串转换成js对象
    var jsonStr = '{"name": "詹姆斯", "age": 34}';
    // 1、使用JSON.parse()，但JSON对象有兼容性问题，所以不推荐使用
    // var obj = JSON.parse(jsonStr);
    // console.log(obj);

    // 2、使用eval()
    // 如果直接用eval()是无法解析JSON格式的字符串，因为JSON是用{}包住的，在js中{}是代码块的意思
    // {"name": "詹姆斯"} // 这样的代码块不符合js语法

    // 解决方式1：在json前面拼接一个"var obj = "
    eval("var obj = " + jsonStr);
    console.log(obj);

    // 解决方式2：因为js中，()里面放的是一个表达式，所以将json用()括住，就可以接收这个对象了
    var obj2 = eval("(" + jsonStr + ")");
    console.log(obj2);

</script>
</body>
</html>