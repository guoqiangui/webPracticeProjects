<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        select {
            width: 100px;
            height: 300px;
            background-color: mediumspringgreen;
        }
    </style>
</head>
<body>
<select name="" id="sel1" multiple>
    <option value="">詹姆斯</option>
    <option value="">杜兰特</option>
    <option value="">莱昂纳德</option>
    <option value="">字母哥</option>
    <option value="">乔治</option>
</select>
<button>>>></button>
<button><<<</button>
<button>></button>
<button><</button>
<select name="" id="sel2" multiple></select>

<script>
    var btnArr = document.getElementsByTagName("button");
    var sel1 = document.getElementById("sel1");
    var sel2 = document.getElementById("sel2");

    //全部移动到右边
    btnArr[0].onclick = function () {
        fun1(sel1, sel2);
    }
    //全部移动到左边
    btnArr[1].onclick = function () {
        fun1(sel2, sel1);
    }

    function fun1(ele1, ele2) {
        var optArr = ele1.children;
        for(var i=optArr.length-1;i>=0;i--) {
            ele2.appendChild(optArr[0]);
        }
    }

    //选定项移动到右边
    btnArr[2].onclick = function () {
        fun2(sel1, sel2);
    }
    //选定项移动到左边
    btnArr[3].onclick = function () {
        fun2(sel2, sel1);
    }

    //bug: 如果选定多项，用之前的方法的话，过去的元素顺序会反
    //解决方法：先把元素加入到新数组中，再倒序加入ele2中
    function fun2(ele1, ele2) {
        //遍历所有option元素，如果selected就加入到右边
        var optArr = ele1.children;
        var newArr = [];
        for(var i=optArr.length-1;i>=0;i--) {
            if(optArr[i].selected) {
                newArr.push(optArr[i]);
            }
        }
        //newArr数组反序加入ele2中
        for(var i=newArr.length-1;i>=0;i--) {
            ele2.appendChild(newArr[i]);
        }
    }
</script>
</body>
</html>