<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        img {
            position: fixed;    /*一直固定在网页某个位置，不随移动而移动用fixed*/
            bottom: 100px;
            right: 50px;
            cursor: pointer;
            display: none;
        }
        #box {
            width: 800px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <img src="Top.jpg">
    <div id="box">
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
        <p>水垢何曾相受，细看两俱无有，寄语揩背人，轻手，轻手，居士本来无垢.....</p>
    </div>

    <script src="../my.js"></script>
    <script>
        /*
        思路：
            1、当被卷曲的高度超过200的时候，显示小火箭，小于就隐藏
            2、点击火箭后，缓动到顶部(window.scrollTo())
         */
        var rocket = document.getElementsByTagName("img")[0];
        
        window.onscroll = function () {
            // 当被卷曲的高度超过200的时候，显示小火箭，小于就隐藏
            if(scroll().top > 200) {
                rocket.style.display = "block";
            } else {
                rocket.style.display = "none";
            }
        }

        //点击火箭回到顶部
        var timer = null;   //一定要定义在外部，不然每次点击产生的定时器就不一样了，也就关不了上一个定时器

        rocket.onclick = function () {
            //scrollTo(x, y)可以直接滚到顶部
            // window.scrollTo(0, 0); //直接跳到顶部用户体验不好

            //参照缓动的实现，让页面缓动地滚动到顶部

            clearInterval(timer);   //要用定时器，先清定时器

            timer = setInterval(function () {
                var scr = scroll().top; //获取被卷曲的高度
                var step = (0 - scr) / 10;  //获得步长
                step = step>0 ? Math.ceil(step) : Math.floor(step); //对步长进行二次加工

                //缓动滚动
                window.scrollTo(0, scr + step);   //每次滚动到的高度

                if(scroll().top == 0) {     /*已经滚到0的话就停止*/
                    clearInterval(timer);
                }
                if(Math.abs(0-scroll().top) <= Math.abs(step)) {   //如果距离比步长要小
                    window.scrollTo(0, 0);  //直接移到顶部
                }
            }, 30);
        }


    </script>
</body>
</html>